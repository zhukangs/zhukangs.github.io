<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
	<channel>
		<title>Posts on Promise</title>
		<link>https://zhukangs.github.io/posts/</link>
		<description>Recent content in Posts on Promise</description>
		<generator>Hugo -- gohugo.io</generator>
		<language>zh-hans</language>
		<copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright>
		<lastBuildDate>Mon, 23 Aug 2021 00:00:00 +0000</lastBuildDate>
		<atom:link href="https://zhukangs.github.io/posts/index.xml" rel="self" type="application/rss+xml" />
		
		<item>
			<title>Elasticsearch åœ¨ Laravel ä¸­çš„ä½¿ç”¨</title>
			<link>https://zhukangs.github.io/posts/20210823-laravel-es/</link>
			<pubDate>Mon, 23 Aug 2021 00:00:00 +0000</pubDate>
			
			<guid>https://zhukangs.github.io/posts/20210823-laravel-es/</guid>
			<description>æœ¬æ–‡ç›®æ ‡  å­¦ä¼šåœ¨ Laravel ä¸­å®‰è£… Elasticsearchã€‚ åˆ›å»ºç´¢å¼•ã€‚ ç®€å•æŸ¥è¯¢ã€‚  å®‰è£… composer åŒ… composer require elasticsearch/elasticsearch &amp;#39;~7.0&amp;#39; é…ç½® config/database.php # Elasticsearch Config Info &#39;elasticsearch&#39; =&amp;gt; [ // Elasticsearch æ”¯æŒå¤šå°æœåŠ¡å™¨è´Ÿè½½å‡è¡¡ï¼Œå› æ­¤è¿™é‡Œæ˜¯ä¸€ä¸ªæ•°ç»„ &#39;hosts&#39; =&amp;gt; explode(&#39;,&#39;, env(&#39;ES_HOSTS&#39;)), &#39;username&#39; =&amp;gt; env(&#39;ES_USERNAME&#39;), &#39;password&#39; =&amp;gt; env(&#39;ES_PASSWORD&#39;), ], åˆå§‹åŒ– Elasticsearch å¯¹è±¡ // æ³¨å†Œä¸€ä¸ªåä¸º es çš„å•ä¾‹ $this-&amp;gt;app-&amp;gt;singleton(&amp;#39;es&amp;#39;, function () { // ä»é…ç½®æ–‡ä»¶è¯»å– Elasticsearch æœåŠ¡å™¨åˆ—è¡¨  $builder = ESClientBuilder::create()-&amp;gt;setHosts(config(&amp;#39;database.elasticsearch.hosts&amp;#39;)) -&amp;gt;setBasicAuthentication(config(&amp;#39;database.elasticsearch.username&amp;#39;),config(&amp;#39;database.elasticsearch.password&amp;#39;)); // å¦‚æœæ˜¯å¼€å‘ç¯å¢ƒ  if (app()-&amp;gt;environment() === &amp;#39;local&amp;#39;) { // é…ç½®æ—¥å¿—ï¼ŒElasticsearch çš„è¯·æ±‚å’Œè¿”å›æ•°æ®å°†æ‰“å°åˆ°æ—¥å¿—æ–‡ä»¶ä¸­ï¼Œæ–¹ä¾¿æˆ‘ä»¬è°ƒè¯•  $builder-&amp;gt;setLogger(app(&amp;#39;log&amp;#39;)-&amp;gt;driver()); } return $builder-&amp;gt;build(); }); åˆ›å»ºç´¢å¼• curl -XPUT -u name:pwd http://ip:9200/user_behavior?</description>
			<content type="html"><![CDATA[<h3 id="æœ¬æ–‡ç›®æ ‡">æœ¬æ–‡ç›®æ ‡</h3>
<ul>
<li>å­¦ä¼šåœ¨ <code>Laravel</code> ä¸­å®‰è£… <code>Elasticsearch</code>ã€‚</li>
<li>åˆ›å»ºç´¢å¼•ã€‚</li>
<li>ç®€å•æŸ¥è¯¢ã€‚</li>
</ul>
<h3 id="å®‰è£…-composer-åŒ…">å®‰è£… <code>composer</code> åŒ…</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell">composer require elasticsearch/elasticsearch <span class="s1">&#39;~7.0&#39;</span>
</code></pre></div><h3 id="é…ç½®-configdatabasephp">é…ç½® <code>config/database.php</code></h3>
<pre><code class="language-dotenv" data-lang="dotenv"># Elasticsearch Config Info
'elasticsearch' =&gt; [
    // Elasticsearch æ”¯æŒå¤šå°æœåŠ¡å™¨è´Ÿè½½å‡è¡¡ï¼Œå› æ­¤è¿™é‡Œæ˜¯ä¸€ä¸ªæ•°ç»„
    'hosts' =&gt; explode(',', env('ES_HOSTS')),
    'username' =&gt; env('ES_USERNAME'),
    'password' =&gt; env('ES_PASSWORD'),
],
</code></pre><h3 id="åˆå§‹åŒ–-elasticsearch-å¯¹è±¡">åˆå§‹åŒ– <code>Elasticsearch</code> å¯¹è±¡</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="c1">// æ³¨å†Œä¸€ä¸ªåä¸º es çš„å•ä¾‹
</span><span class="c1"></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">app</span><span class="o">-&gt;</span><span class="na">singleton</span><span class="p">(</span><span class="s1">&#39;es&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ä»é…ç½®æ–‡ä»¶è¯»å– Elasticsearch æœåŠ¡å™¨åˆ—è¡¨
</span><span class="c1"></span>    <span class="nv">$builder</span> <span class="o">=</span> <span class="nx">ESClientBuilder</span><span class="o">::</span><span class="na">create</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setHosts</span><span class="p">(</span><span class="nx">config</span><span class="p">(</span><span class="s1">&#39;database.elasticsearch.hosts&#39;</span><span class="p">))</span>
        <span class="o">-&gt;</span><span class="na">setBasicAuthentication</span><span class="p">(</span><span class="nx">config</span><span class="p">(</span><span class="s1">&#39;database.elasticsearch.username&#39;</span><span class="p">),</span><span class="nx">config</span><span class="p">(</span><span class="s1">&#39;database.elasticsearch.password&#39;</span><span class="p">));</span>
    <span class="c1">// å¦‚æœæ˜¯å¼€å‘ç¯å¢ƒ
</span><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="nx">app</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">environment</span><span class="p">()</span> <span class="o">===</span> <span class="s1">&#39;local&#39;</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// é…ç½®æ—¥å¿—ï¼ŒElasticsearch çš„è¯·æ±‚å’Œè¿”å›æ•°æ®å°†æ‰“å°åˆ°æ—¥å¿—æ–‡ä»¶ä¸­ï¼Œæ–¹ä¾¿æˆ‘ä»¬è°ƒè¯•
</span><span class="c1"></span>        <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">setLogger</span><span class="p">(</span><span class="nx">app</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">driver</span><span class="p">());</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">build</span><span class="p">();</span>
<span class="p">});</span>
</code></pre></div><h3 id="åˆ›å»ºç´¢å¼•">åˆ›å»ºç´¢å¼•</h3>
<pre><code>curl -XPUT -u name:pwd http://ip:9200/user_behavior?pretty
</code></pre><h3 id="åˆ›å»ºç´¢å¼•ç»“æ„">åˆ›å»ºç´¢å¼•ç»“æ„</h3>
<pre><code>curl -H'Content-Type: application/json'  -XPUT -u name:pwd http://ip:9200/user_behavior/_mapping/?pretty -d'{
  &quot;properties&quot;: {
    &quot;open_id&quot;: { &quot;type&quot;: &quot;text&quot;, &quot;store&quot;:true }, 
    &quot;imp_date&quot;: { &quot;type&quot;: &quot;text&quot;, &quot;store&quot;:true }, 
    &quot;first_login&quot;: { &quot;type&quot;: &quot;text&quot;,&quot;store&quot;:true }
    }
  }
}'
</code></pre><h3 id="æµ‹è¯•å†™å…¥æ•°æ®">æµ‹è¯•å†™å…¥æ•°æ®</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="nx">app</span><span class="p">(</span><span class="s1">&#39;es&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">index</span><span class="p">([</span><span class="s1">&#39;index&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;user_behavior&#39;</span><span class="p">,</span> <span class="s1">&#39;body&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;open_id&#39;</span><span class="o">=&gt;</span><span class="nx">md5</span><span class="p">(</span><span class="nx">time</span><span class="p">()),</span><span class="s1">&#39;imp_date&#39;</span><span class="o">=&gt;</span><span class="p">(</span><span class="nx">int</span><span class="p">)</span><span class="nx">date</span><span class="p">(</span><span class="s1">&#39;Ymd&#39;</span><span class="p">),</span><span class="s1">&#39;first_login&#39;</span><span class="o">=&gt;</span><span class="p">(</span><span class="nx">int</span><span class="p">)</span><span class="nx">date</span><span class="p">(</span><span class="s1">&#39;Ymd&#39;</span><span class="p">)]])</span>
</code></pre></div><h3 id="æŸ¥è¯¢æ•°æ®">æŸ¥è¯¢æ•°æ®</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="nv">$params</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;index&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;user_behavior&#39;</span><span class="p">,</span>
            <span class="s1">&#39;_source&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;imp_date&#39;</span><span class="p">],</span>
            <span class="s1">&#39;body&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
                <span class="s1">&#39;query&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
                    <span class="s1">&#39;bool&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
                        <span class="s1">&#39;filter&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
                            <span class="s1">&#39;range&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
                                <span class="s1">&#39;imp_date&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;gte&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;20210120&#39;</span><span class="p">,</span> <span class="s1">&#39;lte&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;20210430&#39;</span><span class="p">]</span>
                            <span class="p">]</span>
                        <span class="p">]</span>
                    <span class="p">]</span>
                <span class="p">],</span>
                <span class="s1">&#39;size&#39;</span><span class="o">=&gt;</span><span class="mi">0</span><span class="p">,</span>
                <span class="c1">//&#39;collapse&#39; =&gt; [&#39;field&#39; =&gt; &#39;open_id&#39;],
</span><span class="c1"></span>                <span class="s1">&#39;aggs&#39;</span><span class="o">=&gt;</span><span class="p">[</span>
                    <span class="cm">/*&#39;my_count&#39;=&gt;[
</span><span class="cm">                        &#39;value_count&#39;=&gt;[&#39;field&#39; =&gt; &#39;open_id&#39;]
</span><span class="cm">                    ],*/</span>
                    <span class="s1">&#39;distinct_open_id&#39;</span><span class="o">=&gt;</span><span class="p">[</span>
                        <span class="s1">&#39;cardinality&#39;</span><span class="o">=&gt;</span><span class="p">[</span><span class="s1">&#39;field&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;open_id&#39;</span><span class="p">]</span>
                    <span class="p">]</span>
                <span class="p">]</span>
            <span class="p">],</span>
        <span class="p">];</span>


<span class="nv">$results</span> <span class="o">=</span> <span class="nx">app</span><span class="p">(</span><span class="s1">&#39;es&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">search</span><span class="p">(</span><span class="nv">$params</span><span class="p">);</span>
<span class="nv">$results</span><span class="p">[</span><span class="s1">&#39;aggregations&#39;</span><span class="p">][</span><span class="s1">&#39;distinct_open_id&#39;</span><span class="p">][</span><span class="s1">&#39;value&#39;</span><span class="p">];</span>
</code></pre></div><p>å¦å¤–å¯å‚è€ƒæ–‡ç« ï¼šhttps://blog.junphp.com/details/325.jsp</p>
]]></content>
		</item>
		
		<item>
			<title>Homestead(ubuntu)&#43;Laravel ä½¿ç”¨ RabbitMQ</title>
			<link>https://zhukangs.github.io/posts/20210121-laravel-rabbitmq/</link>
			<pubDate>Thu, 21 Jan 2021 00:00:00 +0000</pubDate>
			
			<guid>https://zhukangs.github.io/posts/20210121-laravel-rabbitmq/</guid>
			<description>å®‰è£… erlang erlang æ˜¯ RabbitMQ çš„ä¾èµ–ã€‚é¦–å…ˆæ‰§è¡Œ
sudo apt-get update ç„¶åæ‰§è¡Œ
sudo apt-get install erlang å®‰è£…å®Œæ¯•åï¼Œè¾“å…¥ erl æŸ¥çœ‹ erlang ç‰ˆæœ¬ï¼Œå‡ºç°å¦‚ä¸‹æç¤ºåˆ™è¡¨ç¤ºå®‰è£…æˆåŠŸï¼š
Erlang/OTP 20 [erts-9.2] [source] [64-bit] [smp:1:1] [ds:1:1:10] [async-threads:10] [kernel-poll:false] Eshell V9.2 (abort with ^G) 1&amp;gt; ç„¶åé€€å‡º erlang å‘½ä»¤è¡Œï¼šæŒ‰ä¸‹ ctrl+cï¼Œç„¶åè¾“å…¥ a å³å¯ã€‚
å®‰è£… RabbitMq sudo apt-get install rabbitmq-server å®‰è£…å®Œæ¯•åï¼ŒæŸ¥çœ‹ RabbitMQ çŠ¶æ€ï¼š
sudo rabbitmqctl status # é™„ï¼š # å¯åŠ¨RabbitMQï¼š service rabbitmq-server start # åœæ­¢RabbitMQï¼š service rabbitmq-server stop  # é‡å¯RabbitMQï¼š service rabbitmq-server restart  é…ç½® RabbitMQ æ‰§è¡Œå‘½ä»¤ï¼Œå¯åŠ¨ RabbitMQ æ’ä»¶</description>
			<content type="html"><![CDATA[<h3 id="å®‰è£…-erlang">å®‰è£… erlang</h3>
<p><code>erlang</code> æ˜¯ <code>RabbitMQ</code> çš„ä¾èµ–ã€‚é¦–å…ˆæ‰§è¡Œ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell">sudo apt-get update
</code></pre></div><p>ç„¶åæ‰§è¡Œ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell">sudo apt-get install erlang
</code></pre></div><p>å®‰è£…å®Œæ¯•åï¼Œè¾“å…¥ <code>erl</code> æŸ¥çœ‹ <code>erlang</code> ç‰ˆæœ¬ï¼Œå‡ºç°å¦‚ä¸‹æç¤ºåˆ™è¡¨ç¤ºå®‰è£…æˆåŠŸï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell">Erlang/OTP <span class="m">20</span> <span class="o">[</span>erts-9.2<span class="o">]</span> <span class="o">[</span>source<span class="o">]</span> <span class="o">[</span>64-bit<span class="o">]</span> <span class="o">[</span>smp:1:1<span class="o">]</span> <span class="o">[</span>ds:1:1:10<span class="o">]</span> <span class="o">[</span>async-threads:10<span class="o">]</span> <span class="o">[</span>kernel-poll:false<span class="o">]</span>
    
Eshell V9.2  <span class="o">(</span>abort with ^G<span class="o">)</span>
1&gt;
</code></pre></div><p>ç„¶åé€€å‡º <code>erlang</code> å‘½ä»¤è¡Œï¼šæŒ‰ä¸‹ ctrl+cï¼Œç„¶åè¾“å…¥ a å³å¯ã€‚</p>
<h3 id="å®‰è£…-rabbitmq">å®‰è£… RabbitMq</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell">sudo apt-get install rabbitmq-server
</code></pre></div><p>å®‰è£…å®Œæ¯•åï¼ŒæŸ¥çœ‹ RabbitMQ çŠ¶æ€ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell">sudo rabbitmqctl status
    
<span class="c1"># é™„ï¼š</span>
<span class="c1"># å¯åŠ¨RabbitMQï¼š service rabbitmq-server start</span>
<span class="c1"># åœæ­¢RabbitMQï¼š service rabbitmq-server stop </span>
<span class="c1"># é‡å¯RabbitMQï¼š service rabbitmq-server restart </span>
</code></pre></div><h3 id="é…ç½®-rabbitmq">é…ç½® RabbitMQ</h3>
<p>æ‰§è¡Œå‘½ä»¤ï¼Œå¯åŠ¨ <code>RabbitMQ</code> æ’ä»¶</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell">sudo rabbitmq-plugins <span class="nb">enable</span> rabbitmq_management
</code></pre></div><p>æ·»åŠ ç”¨æˆ· <code>RabbitMQ</code>ï¼Œæ ¼å¼ï¼šrabbitmqctl add_user ç”¨æˆ·å å¯†ç </p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell">rabbitmqctl add_user admin admin
</code></pre></div><p>ç»™äºˆç”¨æˆ·ç®¡ç†å‘˜æƒé™</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell">sudo rabbitmqctl set_user_tags admin administrator
</code></pre></div><p>ä¸ºç”¨æˆ·è®¾ç½®è¯»å†™æƒé™</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell">sudo rabbitmqctl set_permissions -p / admin <span class="s2">&#34;.*&#34;</span> <span class="s2">&#34;.*&#34;</span> <span class="s2">&#34;.*&#34;</span>
</code></pre></div><p>æ‰“å¼€ <code>RabbitMQ</code> åå°</p>
<pre><code>æµè§ˆå™¨ä¸­è¾“å…¥ï¼šhttp:// æœåŠ¡å™¨ ip+:15672, ä¾‹å¦‚æˆ‘çš„æ˜¯ï¼š192.168.10.10:15672/
</code></pre><p>15672 ç«¯å£é»˜è®¤æ˜¯å…³é—­çš„ï¼Œå› æ­¤éœ€è¦æ‰“å¼€</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell">1. sudo apt-get install iptables
2. sudo iptables -I INPUT -p tcp --dport <span class="m">15672</span> -j ACCEPT
</code></pre></div><h3 id="è¿è¡Œç¯å¢ƒubuntuå®‰è£…-amqp-æ‰©å±•">è¿è¡Œç¯å¢ƒï¼ˆubuntuï¼‰å®‰è£… amqp æ‰©å±•</h3>
<p>è¿™äº›æ‰©å±•æ˜¯è¿è¡Œå¿…é¡»ï¼Œå¯ä»¥ç±»æ¯”ä¸º mongodb,redis æ‰©å±•ã€‚åˆ†åˆ«æ‰§è¡Œä»¥ä¸‹æŒ‡ä»¤</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell">sudo apt-get -y install gcc make autoconf libc-dev pkg-config
sudo apt-get -y install libssl-dev
sudo apt-get -y install librabbitmq-dev
</code></pre></div><p>åœ¨è¿™é‡Œå®‰è£…å¯èƒ½ä¼šé‡åˆ°ä¸€äº›å°é—®é¢˜ï¼Œé‡äº‹ä¸å†³å°±æ‰§è¡Œï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell">sudo apt-get update
//æ—¶é—´å¯èƒ½ä¼šéœ€è¦å¾ˆä¹…ï¼Œæˆ‘æ‰§è¡Œç­‰å®ƒè¿è¡Œçš„æ—¶å€™å¤§æ¦‚èŠ±äº†ä¸€ä¸ªå°æ—¶
sudo apt-get upgrade
</code></pre></div><p>ä»¥ä¸Šçš„æ‰©å±•å®‰è£…å®Œæˆåæ‰§è¡ŒæŒ‡ä»¤å®‰è£… <code>amqp</code> æ‰©å±•ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell">sudo pecl install amqp
</code></pre></div><p>å®‰è£…è¿‡ç¨‹ä¸­ä¼šæç¤º</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="m">28</span> <span class="nb">source</span> files, building
running: phpize
Configuring <span class="k">for</span>:
PHP Api Version:         <span class="m">20170718</span>
Zend Module Api No:      <span class="m">20170718</span>
Zend Extension Api No:   <span class="m">320170718</span>
Set the path to librabbitmq install prefix <span class="o">[</span>autodetect<span class="o">]</span> :
</code></pre></div><p>å›è½¦å³å¯ï¼Œç­‰å¾…å®‰è£…å®Œæˆï¼š</p>
<p><code>You should add &quot;extension=amqp.so&quot; to php.ini</code></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell">sudo -s
<span class="nb">echo</span> <span class="nv">extension</span><span class="o">=</span>amqp.so &gt;&gt; /etc/php/7.2/cli/php.ini
<span class="nb">echo</span> <span class="nv">extension</span><span class="o">=</span>amqp.so &gt;&gt; /etc/php/7.2/fpm/php.ini
sudo service php7.2-fpm restart
</code></pre></div><p>ç„¶åæ‰§è¡Œ <code>php -m</code> æŸ¥çœ‹æ‰©å±•æ˜¯å¦å®‰è£…å®Œæˆ</p>
<h3 id="laravel-é¡¹ç›®ä¸­ä½¿ç”¨">Laravel é¡¹ç›®ä¸­ä½¿ç”¨</h3>
<p>æ·»åŠ  <code>RabbitMQ</code></p>
<table>
<thead>
<tr>
<th>Package Version</th>
<th>Laravel Version</th>
</tr>
</thead>
<tbody>
<tr>
<td>6.0</td>
<td>5.5</td>
</tr>
<tr>
<td>7.0</td>
<td>5.6</td>
</tr>
<tr>
<td>7.1</td>
<td>5.7</td>
</tr>
<tr>
<td>7.2</td>
<td>5.8</td>
</tr>
<tr>
<td>8.0</td>
<td>5.9</td>
</tr>
<tr>
<td>9</td>
<td>6</td>
</tr>
<tr>
<td>10</td>
<td>6.7</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell">composer require vladimir-yuldashev/laravel-queue-rabbitmq ^7.1
</code></pre></div><p>åœ¨ <code>app/config/queue.php</code> æ–‡ä»¶ä¸­ï¼Œ<code>connections</code> æ•°ç»„ä¸­æ·»åŠ </p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="s1">&#39;rabbitmq&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="s1">&#39;driver&#39;</span>                <span class="o">=&gt;</span> <span class="s1">&#39;rabbitmq&#39;</span><span class="p">,</span>
 
    <span class="s1">&#39;host&#39;</span>                  <span class="o">=&gt;</span> <span class="nx">env</span><span class="p">(</span><span class="s1">&#39;RABBITMQ_HOST&#39;</span><span class="p">,</span> <span class="s1">&#39;127.0.0.1&#39;</span><span class="p">),</span>
    <span class="s1">&#39;port&#39;</span>                  <span class="o">=&gt;</span> <span class="nx">env</span><span class="p">(</span><span class="s1">&#39;RABBITMQ_PORT&#39;</span><span class="p">,</span> <span class="mi">5672</span><span class="p">),</span>
 
    <span class="s1">&#39;vhost&#39;</span>                 <span class="o">=&gt;</span> <span class="nx">env</span><span class="p">(</span><span class="s1">&#39;RABBITMQ_VHOST&#39;</span><span class="p">,</span> <span class="s1">&#39;/&#39;</span><span class="p">),</span>
    <span class="s1">&#39;login&#39;</span>                 <span class="o">=&gt;</span> <span class="nx">env</span><span class="p">(</span><span class="s1">&#39;RABBITMQ_LOGIN&#39;</span><span class="p">,</span> <span class="s1">&#39;guest&#39;</span><span class="p">),</span>
    <span class="s1">&#39;password&#39;</span>              <span class="o">=&gt;</span> <span class="nx">env</span><span class="p">(</span><span class="s1">&#39;RABBITMQ_PASSWORD&#39;</span><span class="p">,</span> <span class="s1">&#39;guest&#39;</span><span class="p">),</span>
 
    <span class="s1">&#39;queue&#39;</span>                 <span class="o">=&gt;</span> <span class="nx">env</span><span class="p">(</span><span class="s1">&#39;RABBITMQ_QUEUE&#39;</span><span class="p">),</span> <span class="c1">// name of the default queue,
</span><span class="c1"></span> 
    <span class="s1">&#39;exchange_declare&#39;</span>      <span class="o">=&gt;</span> <span class="nx">env</span><span class="p">(</span><span class="s1">&#39;RABBITMQ_EXCHANGE_DECLARE&#39;</span><span class="p">,</span> <span class="k">true</span><span class="p">),</span> <span class="c1">// create the exchange if not exists
</span><span class="c1"></span>    <span class="s1">&#39;queue_declare_bind&#39;</span>    <span class="o">=&gt;</span> <span class="nx">env</span><span class="p">(</span><span class="s1">&#39;RABBITMQ_QUEUE_DECLARE_BIND&#39;</span><span class="p">,</span> <span class="k">true</span><span class="p">),</span> <span class="c1">// create the queue if not exists and bind to the exchange
</span><span class="c1"></span> 
    <span class="s1">&#39;queue_params&#39;</span>          <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">&#39;passive&#39;</span>           <span class="o">=&gt;</span> <span class="nx">env</span><span class="p">(</span><span class="s1">&#39;RABBITMQ_QUEUE_PASSIVE&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">),</span>
        <span class="s1">&#39;durable&#39;</span>           <span class="o">=&gt;</span> <span class="nx">env</span><span class="p">(</span><span class="s1">&#39;RABBITMQ_QUEUE_DURABLE&#39;</span><span class="p">,</span> <span class="k">true</span><span class="p">),</span>
        <span class="s1">&#39;exclusive&#39;</span>         <span class="o">=&gt;</span> <span class="nx">env</span><span class="p">(</span><span class="s1">&#39;RABBITMQ_QUEUE_EXCLUSIVE&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">),</span>
        <span class="s1">&#39;auto_delete&#39;</span>       <span class="o">=&gt;</span> <span class="nx">env</span><span class="p">(</span><span class="s1">&#39;RABBITMQ_QUEUE_AUTODELETE&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">),</span>
    <span class="p">],</span>
 
    <span class="s1">&#39;exchange_params&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">&#39;name&#39;</span>        <span class="o">=&gt;</span> <span class="nx">env</span><span class="p">(</span><span class="s1">&#39;RABBITMQ_EXCHANGE_NAME&#39;</span><span class="p">,</span> <span class="k">null</span><span class="p">),</span>
        <span class="s1">&#39;type&#39;</span>        <span class="o">=&gt;</span> <span class="nx">env</span><span class="p">(</span><span class="s1">&#39;RABBITMQ_EXCHANGE_TYPE&#39;</span><span class="p">,</span> <span class="s1">&#39;direct&#39;</span><span class="p">),</span> <span class="c1">// more info at http://www.rabbitmq.com/tutorials/amqp-concepts.html
</span><span class="c1"></span>        <span class="s1">&#39;passive&#39;</span>     <span class="o">=&gt;</span> <span class="nx">env</span><span class="p">(</span><span class="s1">&#39;RABBITMQ_EXCHANGE_PASSIVE&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">),</span>
        <span class="s1">&#39;durable&#39;</span>     <span class="o">=&gt;</span> <span class="nx">env</span><span class="p">(</span><span class="s1">&#39;RABBITMQ_EXCHANGE_DURABLE&#39;</span><span class="p">,</span> <span class="k">true</span><span class="p">),</span> <span class="c1">// the exchange will survive server restarts
</span><span class="c1"></span>        <span class="s1">&#39;auto_delete&#39;</span> <span class="o">=&gt;</span> <span class="nx">env</span><span class="p">(</span><span class="s1">&#39;RABBITMQ_EXCHANGE_AUTODELETE&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">),</span>
    <span class="p">],</span>
 
<span class="p">],</span>
</code></pre></div><p>åœ¨ <code>.env</code> ä¸­æ·»åŠ </p>
<pre><code class="language-dotenv" data-lang="dotenv">QUEUE_CONNECTION=rabbitmq #ä¿®æ”¹ä¸€ä¸‹
RABBITMQ_HOST = 127.0.0.1   #è¦è¿æ¥å¾—ä¸»æœºå
RABBITMQ_PORT = 5672  #ç«¯å£
RABBITMQ_VHOST = / 
RABBITMQ_LOGIN = admin #mqç™»å½•å
RABBITMQ_PASSWORD = admin  #mqç™»é™†å¯†ç 
RABBITMQ_QUEUE = test  #mqè¿æ¥å¾—æµ‹è¯•å
</code></pre><p>å…¶ä»–å’Œæ­£å¸¸è·‘é˜Ÿåˆ—åŒºåˆ«ä¸å¤§</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell">php artisan queue:restart
php artisan queue:work
</code></pre></div>]]></content>
		</item>
		
		<item>
			<title>Homestead å®‰è£… Swoole æ‰©å±•</title>
			<link>https://zhukangs.github.io/posts/20200828-homestead-swoole/</link>
			<pubDate>Fri, 28 Aug 2020 00:00:00 +0000</pubDate>
			
			<guid>https://zhukangs.github.io/posts/20200828-homestead-swoole/</guid>
			<description>é…ç½®é•œåƒæº é…ç½®å¥½ ubuntu çš„å›½å†…é•œåƒæºå¹¶æ›´æ–°
å®‰è£… dev æŸ¥çœ‹ php ç‰ˆæœ¬ï¼Œå¹¶å®‰è£…å¯¹åº” php ç‰ˆæœ¬çš„ dev
sudo apt install php7.2-dev é…ç½® pecl sudo pecl channel-update pecl.php.net sudo pear clear-cache sudo pear update-channels sudo pear upgrade å®‰è£… swoole æ‰©å±• å®‰è£… php çš„ swoole æ‰©å±•
sudo pecl install swoole ä¿®æ”¹ php.ini åœ¨ php.ini ä¸­å¢åŠ  extension=swoole.so
php -i | grep php.ini vim /etc/php/7.2/cli/php.ini
# åœ¨php.iniçš„å°¾éƒ¨å¢åŠ å¦‚ä¸‹ä»£ç  extension=swoole.so é‡å¯ php # åœ¨php.iniçš„å°¾éƒ¨å¢åŠ å¦‚ä¸‹ä»£ç  extension=swoole.so æŸ¥çœ‹æ˜¯å¦æˆåŠŸå®‰è£… æŸ¥çœ‹ php æ˜¯å¦æˆåŠŸå®‰è£… swoole æ¨¡å—</description>
			<content type="html"><![CDATA[<h3 id="é…ç½®é•œåƒæº">é…ç½®é•œåƒæº</h3>
<p>é…ç½®å¥½ <code>ubuntu</code> çš„å›½å†…é•œåƒæºå¹¶æ›´æ–°</p>
<h3 id="å®‰è£…-dev">å®‰è£… <code>dev</code></h3>
<p>æŸ¥çœ‹ <code>php</code> ç‰ˆæœ¬ï¼Œå¹¶å®‰è£…å¯¹åº” <code>php</code> ç‰ˆæœ¬çš„ <code>dev</code></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell">sudo apt install php7.2-dev
</code></pre></div><h3 id="é…ç½®-pecl">é…ç½® <code>pecl</code></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell">sudo pecl channel-update pecl.php.net
sudo pear clear-cache
sudo pear update-channels
sudo pear upgrade
</code></pre></div><h3 id="å®‰è£…-swoole-æ‰©å±•">å®‰è£… <code>swoole</code> æ‰©å±•</h3>
<p>å®‰è£… <code>php</code> çš„ <code>swoole</code> æ‰©å±•</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell">sudo pecl install swoole
</code></pre></div><h3 id="ä¿®æ”¹-phpini">ä¿®æ”¹ <code>php.ini</code></h3>
<p>åœ¨ <code>php.ini</code> ä¸­å¢åŠ  <code>extension=swoole.so</code></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell">php -i <span class="p">|</span> grep php.ini
</code></pre></div><p><code>vim</code>  <code>/etc/php/7.2/cli/php.ini</code></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="c1"># åœ¨php.iniçš„å°¾éƒ¨å¢åŠ å¦‚ä¸‹ä»£ç </span>
<span class="nv">extension</span><span class="o">=</span>swoole.so
</code></pre></div><h3 id="é‡å¯-php">é‡å¯ <code>php</code></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># åœ¨php.iniçš„å°¾éƒ¨å¢åŠ å¦‚ä¸‹ä»£ç </span>
<span class="nv">extension</span><span class="o">=</span>swoole.so
</code></pre></div><h4 id="æŸ¥çœ‹æ˜¯å¦æˆåŠŸå®‰è£…">æŸ¥çœ‹æ˜¯å¦æˆåŠŸå®‰è£…</h4>
<p>æŸ¥çœ‹ <code>php</code> æ˜¯å¦æˆåŠŸå®‰è£… <code>swoole</code> æ¨¡å—</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell">php -m <span class="p">|</span> grep swoole
</code></pre></div>]]></content>
		</item>
		
		<item>
			<title>å¾®ä¿¡æ‰«ç  - å…³æ³¨å…¬ä¼—å·åç½‘ç«™è‡ªåŠ¨ç™»å½•</title>
			<link>https://zhukangs.github.io/posts/20210824-wx-scan/</link>
			<pubDate>Fri, 07 Feb 2020 00:00:00 +0000</pubDate>
			
			<guid>https://zhukangs.github.io/posts/20210824-wx-scan/</guid>
			<description>**å¤§æ¦‚æµç¨‹æ˜¯ï¼š**ç‚¹å‡»å¾®ä¿¡ç™»å½•ï¼Œç½‘ç«™è‡ªå·±å¼¹å‡ºä¸€ä¸ªäºŒç»´ç ã€æ‰«æäºŒç»´ç åå¼¹å‡ºå…¬ä¼—å·çš„å…³æ³¨ç•Œé¢ã€åªè¦ä¸€å…³æ³¨å…¬ä¼—å·ç½‘ç«™è‡ªåŠ¨ç™»å½•ã€ç¬¬äºŒæ¬¡æ‰«æç™»å½•çš„æ—¶å€™ç½‘ç«™ç›´æ¥ç™»å½•ã€‚è¿™ç§æ‰«ç ç™»å½•çš„æ–¹å¼ä¸ªäººè§‰å¾—éå¸¸åˆ©äºæ¨å¹¿å…¬ä¼—å·ã€‚
å¤§å®¶å¯ä»¥ä½“éªŒä¸€ä¸‹ ã€Œè¿™ç§ç™»å½•æ–¹å¼ã€
å‰æœŸå‡†å¤‡
 æœåŠ¡å·ï¼ˆæˆ–è€…å¾®ä¿¡æµ‹è¯•è´¦å·ï¼‰ EasyWeChat æ‰©å±•åŒ…  ç®€å•çš„è§£é‡Šä¸€ä¸‹æ‰«æè¿™ä¸ªå¸¦å‚äºŒç»´ç æœ‰ä»€ä¹ˆä¸åŒï¼š
 æ‰«æäºŒç»´ç ï¼Œå¦‚æœç”¨æˆ·è¿˜æœªå…³æ³¨å…¬ä¼—å·ï¼Œåˆ™ç”¨æˆ·å¯ä»¥å…³æ³¨å…¬ä¼—å·ï¼Œå…³æ³¨åå¾®ä¿¡ä¼šå°†å¸¦åœºæ™¯å€¼ï¼ˆè‡ªå®šä¹‰å€¼ï¼‰å…³æ³¨äº‹ä»¶æ¨é€ç»™å¼€å‘è€…ã€‚ æ‰«æäºŒç»´ç ï¼Œå¦‚æœç”¨æˆ·å·²ç»å…³æ³¨å…¬ä¼—å·ï¼Œåœ¨ç”¨æˆ·æ‰«æåä¼šè‡ªåŠ¨è¿›å…¥ä¼šè¯ï¼Œå¾®ä¿¡ä¹Ÿä¼šå°†å¸¦åœºæ™¯å€¼ï¼ˆè‡ªå®šä¹‰å€¼ï¼‰æ‰«ç äº‹ä»¶æ¨é€ç»™å¼€å‘è€…ã€‚  çœ‹åˆ°è¿™é‡Œç›¸ä¿¡ä½ å·²ç»æ˜ç™½äº†ï¼Œæ¢³ç†ä¸€ä¸‹ï¼š
 ç”ŸæˆäºŒç»´ç çš„æ—¶å€™ä½ è‡ªå®šä¹‰ä¸€ä¸ªå‚æ•°åˆ°äºŒç»´ç ä¸­ï¼Œé¡ºä¾¿æŠŠè¿™ä¸ªå‚æ•°ä¼ åˆ°å‰ç«¯é¡µé¢ä¸­ã€‚ å‰ç«¯é¡µé¢æ ¹æ®è¿™ä¸ªå‚æ•°è½®è¯¢ç”¨æˆ·ç™»å½•çŠ¶æ€ï¼ˆä¹Ÿå¯ä½¿ç”¨ socketï¼‰ã€‚ ç”¨æˆ·æ‰«ç å…³æ³¨åä¼šæ¨é€ä¸€ä¸ªå…³æ³¨äº‹ä»¶åˆ°æœåŠ¡ç«¯ï¼Œä¹Ÿä¼šæŠŠè‡ªå®šä¹‰å‚æ•°å¸¦å…¥åˆ°äº‹ä»¶ä¸­ã€‚ æ ¹æ® openid åˆ›å»ºç”¨æˆ·åï¼Œç„¶ååœ¨ Redis ä¸­å­˜å‚¨ Key ä¸ºåœºæ™¯å€¼ï¼ˆè‡ªå®šä¹‰å‚æ•°ï¼‰ Value ä¸ºç”¨æˆ·åˆ›å»ºåçš„ idã€‚ å‰ç«¯è½®è¯¢æ–¹æ³•ä¸­å¦‚æœåœ¨ Redis ä¸­è·å–åˆ° Id åï¼ŒAuth ç™»é™†ï¼Œé¡µé¢å†é‡è½½ä¸€ä¸‹ï¼Œæµç¨‹å®Œæ¯•ã€‚  è¿˜æœ‰ä¸€ç§æ˜¯ç”¨äºæœ‰è´¦å·çš„ç”¨æˆ·ï¼Œå…ˆè´¦å·å¯†ç ç™»å½•ï¼Œå†æ‰«ç ï¼ˆä½¿ç”¨è¿‡ï¼‰ï¼š
 ç”Ÿæˆå¸¦loginå‚æ•°çš„ä¸´æ—¶äºŒç»´ç çš„æ—¶å€™ï¼Œå°†äºŒç»´ç çš„ticketæ›´æ–°åˆ°æ•°æ®åº“è¯¥ç”¨æˆ·ä¸‹ï¼Œé»˜è®¤çŠ¶æ€ä¸ºæœªä½¿ç”¨ ç”¨æˆ·æ‰«ç ï¼Œå¾®ä¿¡ä¼šæ¨é€ä¸€ä¸ªæ‰«ç äº‹ä»¶ï¼Œä¹Ÿä¼šæŠŠè‡ªå®šä¹‰å‚æ•°loginå¸¦åˆ°äº‹ä»¶ä¸­ï¼Œæ”¹å˜äºŒç»´ç çŠ¶æ€ä¸ºå·²ä½¿ç”¨ å‰ç«¯è¿›åˆ°æ‰«ç é¡µé¢çš„åŒæ—¶å°±å¼€å§‹è½®è¯¢æ‰«æç»“æœæ¥å£ï¼ŒçŠ¶æ€ä¸ºå·²ä½¿ç”¨åˆ™æ‰«ç ç™»å½•æˆåŠŸ æœªå…³æ³¨çš„ç”¨æˆ·ï¼Œä¼šå…ˆæ ¹æ®openidè·å–ç”¨æˆ·ä¿¡æ¯å¹¶å†™å…¥æ•°æ®åº“ï¼Œå…³æ³¨è¿‡çš„åˆ™æ•°æ®åº“æœ‰æ•°æ®ï¼Œåšç›¸å…³æ›´æ–°æ“ä½œã€‚  æœ€åé€ä¸ªè‡ªå·±ğŸ’ª
 å…¨ä¸–ç•Œå°±ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„ä½ ï¼Œè¯·ä¸€å®šï¼šçœŸè¯šåšäººï¼ŒåŠªåŠ›åšäº‹ï¼ä½ æƒ³è¦çš„ï¼Œå²æœˆéƒ½ä¼šç»™ä½ ã€‚
 </description>
			<content type="html"><![CDATA[<p>**å¤§æ¦‚æµç¨‹æ˜¯ï¼š**ç‚¹å‡»å¾®ä¿¡ç™»å½•ï¼Œç½‘ç«™è‡ªå·±å¼¹å‡ºä¸€ä¸ªäºŒç»´ç ã€æ‰«æäºŒç»´ç åå¼¹å‡ºå…¬ä¼—å·çš„å…³æ³¨ç•Œé¢ã€åªè¦ä¸€å…³æ³¨å…¬ä¼—å·ç½‘ç«™è‡ªåŠ¨ç™»å½•ã€ç¬¬äºŒæ¬¡æ‰«æç™»å½•çš„æ—¶å€™ç½‘ç«™ç›´æ¥ç™»å½•ã€‚è¿™ç§æ‰«ç ç™»å½•çš„æ–¹å¼ä¸ªäººè§‰å¾—éå¸¸åˆ©äºæ¨å¹¿å…¬ä¼—å·ã€‚</p>
<p>å¤§å®¶å¯ä»¥ä½“éªŒä¸€ä¸‹ <a href="http://90sheji.com">ã€Œè¿™ç§ç™»å½•æ–¹å¼ã€</a></p>
<p><strong>å‰æœŸå‡†å¤‡</strong></p>
<ul>
<li>æœåŠ¡å·ï¼ˆæˆ–è€…å¾®ä¿¡æµ‹è¯•è´¦å·ï¼‰</li>
<li>EasyWeChat æ‰©å±•åŒ…</li>
</ul>
<p><strong>ç®€å•çš„è§£é‡Šä¸€ä¸‹æ‰«æè¿™ä¸ªå¸¦å‚äºŒç»´ç æœ‰ä»€ä¹ˆä¸åŒï¼š</strong></p>
<ul>
<li>æ‰«æäºŒç»´ç ï¼Œå¦‚æœç”¨æˆ·è¿˜æœªå…³æ³¨å…¬ä¼—å·ï¼Œåˆ™ç”¨æˆ·å¯ä»¥å…³æ³¨å…¬ä¼—å·ï¼Œå…³æ³¨åå¾®ä¿¡ä¼šå°†å¸¦åœºæ™¯å€¼ï¼ˆè‡ªå®šä¹‰å€¼ï¼‰å…³æ³¨äº‹ä»¶æ¨é€ç»™å¼€å‘è€…ã€‚</li>
<li>æ‰«æäºŒç»´ç ï¼Œå¦‚æœç”¨æˆ·å·²ç»å…³æ³¨å…¬ä¼—å·ï¼Œåœ¨ç”¨æˆ·æ‰«æåä¼šè‡ªåŠ¨è¿›å…¥ä¼šè¯ï¼Œå¾®ä¿¡ä¹Ÿä¼šå°†å¸¦åœºæ™¯å€¼ï¼ˆè‡ªå®šä¹‰å€¼ï¼‰æ‰«ç äº‹ä»¶æ¨é€ç»™å¼€å‘è€…ã€‚</li>
</ul>
<p><strong>çœ‹åˆ°è¿™é‡Œç›¸ä¿¡ä½ å·²ç»æ˜ç™½äº†ï¼Œæ¢³ç†ä¸€ä¸‹ï¼š</strong></p>
<ul>
<li>ç”ŸæˆäºŒç»´ç çš„æ—¶å€™ä½ è‡ªå®šä¹‰ä¸€ä¸ªå‚æ•°åˆ°äºŒç»´ç ä¸­ï¼Œé¡ºä¾¿æŠŠè¿™ä¸ªå‚æ•°ä¼ åˆ°å‰ç«¯é¡µé¢ä¸­ã€‚</li>
<li>å‰ç«¯é¡µé¢æ ¹æ®è¿™ä¸ªå‚æ•°è½®è¯¢ç”¨æˆ·ç™»å½•çŠ¶æ€ï¼ˆä¹Ÿå¯ä½¿ç”¨ socketï¼‰ã€‚</li>
<li>ç”¨æˆ·æ‰«ç å…³æ³¨åä¼šæ¨é€ä¸€ä¸ªå…³æ³¨äº‹ä»¶åˆ°æœåŠ¡ç«¯ï¼Œä¹Ÿä¼šæŠŠè‡ªå®šä¹‰å‚æ•°å¸¦å…¥åˆ°äº‹ä»¶ä¸­ã€‚</li>
<li>æ ¹æ® openid åˆ›å»ºç”¨æˆ·åï¼Œç„¶ååœ¨ Redis ä¸­å­˜å‚¨ Key ä¸ºåœºæ™¯å€¼ï¼ˆè‡ªå®šä¹‰å‚æ•°ï¼‰ Value ä¸ºç”¨æˆ·åˆ›å»ºåçš„ idã€‚</li>
<li>å‰ç«¯è½®è¯¢æ–¹æ³•ä¸­å¦‚æœåœ¨ Redis ä¸­è·å–åˆ° Id åï¼ŒAuth ç™»é™†ï¼Œé¡µé¢å†é‡è½½ä¸€ä¸‹ï¼Œæµç¨‹å®Œæ¯•ã€‚</li>
</ul>
<p><strong>è¿˜æœ‰ä¸€ç§æ˜¯ç”¨äºæœ‰è´¦å·çš„ç”¨æˆ·ï¼Œå…ˆè´¦å·å¯†ç ç™»å½•ï¼Œå†æ‰«ç ï¼ˆä½¿ç”¨è¿‡ï¼‰ï¼š</strong></p>
<ul>
<li>ç”Ÿæˆå¸¦loginå‚æ•°çš„ä¸´æ—¶äºŒç»´ç çš„æ—¶å€™ï¼Œå°†äºŒç»´ç çš„ticketæ›´æ–°åˆ°æ•°æ®åº“è¯¥ç”¨æˆ·ä¸‹ï¼Œé»˜è®¤çŠ¶æ€ä¸ºæœªä½¿ç”¨</li>
<li>ç”¨æˆ·æ‰«ç ï¼Œå¾®ä¿¡ä¼šæ¨é€ä¸€ä¸ªæ‰«ç äº‹ä»¶ï¼Œä¹Ÿä¼šæŠŠè‡ªå®šä¹‰å‚æ•°loginå¸¦åˆ°äº‹ä»¶ä¸­ï¼Œæ”¹å˜äºŒç»´ç çŠ¶æ€ä¸ºå·²ä½¿ç”¨</li>
<li>å‰ç«¯è¿›åˆ°æ‰«ç é¡µé¢çš„åŒæ—¶å°±å¼€å§‹è½®è¯¢æ‰«æç»“æœæ¥å£ï¼ŒçŠ¶æ€ä¸ºå·²ä½¿ç”¨åˆ™æ‰«ç ç™»å½•æˆåŠŸ</li>
<li>æœªå…³æ³¨çš„ç”¨æˆ·ï¼Œä¼šå…ˆæ ¹æ®openidè·å–ç”¨æˆ·ä¿¡æ¯å¹¶å†™å…¥æ•°æ®åº“ï¼Œå…³æ³¨è¿‡çš„åˆ™æ•°æ®åº“æœ‰æ•°æ®ï¼Œåšç›¸å…³æ›´æ–°æ“ä½œã€‚</li>
</ul>
<p><strong>æœ€åé€ä¸ªè‡ªå·±ğŸ’ª</strong></p>
<blockquote>
<p>å…¨ä¸–ç•Œå°±ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„ä½ ï¼Œè¯·ä¸€å®šï¼šçœŸè¯šåšäººï¼ŒåŠªåŠ›åšäº‹ï¼ä½ æƒ³è¦çš„ï¼Œå²æœˆéƒ½ä¼šç»™ä½ ã€‚</p>
</blockquote>
]]></content>
		</item>
		
	</channel>
</rss>
